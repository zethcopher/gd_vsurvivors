[gd_scene load_steps=16 format=3 uid="uid://cf5tjvgka0buk"]

[ext_resource type="Script" path="res://Scripts/Game.gd" id="1_rsu1m"]
[ext_resource type="Resource" uid="uid://p1krbye81f8i" path="res://Inventory/PlayerInventory.tres" id="2_hg4xo"]
[ext_resource type="Script" path="res://Scripts/Inventory.gd" id="3_m5xu2"]
[ext_resource type="PackedScene" uid="uid://vukmevc4jy3r" path="res://Scenes/Player.tscn" id="4_s8reo"]
[ext_resource type="PackedScene" uid="uid://brp7ddo728sg0" path="res://Scenes/Interactable.tscn" id="5_4bk6u"]
[ext_resource type="PackedScene" uid="uid://b863iq8pwvhdi" path="res://UI/UI.tscn" id="5_84mtr"]
[ext_resource type="Texture2D" uid="uid://co7ls6ouktwoq" path="res://Assets/0x72_DungeonTilesetII_v1.7/atlas_floor-16x16.png" id="7_oppj7"]
[ext_resource type="Texture2D" uid="uid://cbkg67gkp67w4" path="res://Assets/0x72_DungeonTilesetII_v1.7/atlas_walls_low-16x16.png" id="8_pc3r3"]
[ext_resource type="Texture2D" uid="uid://dx3ox66iqhnah" path="res://Assets/0x72_DungeonTilesetII_v1.7/atlas_walls_high-16x32.png" id="9_6sbp8"]

[sub_resource type="Resource" id="Resource_0nbt2"]
script = ExtResource("3_m5xu2")
items = Array[Resource("res://Scripts/Item.gd")]([])
inventory_size = 6

[sub_resource type="Curve2D" id="Curve2D_6fn01"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 240.015, -127.272, 0, 0, 0, 0, 240.637, 117.651, 0, 0, 0, 0, -211.581, 119.872, 0, 0, 0, 0, -212.203, -125.606, 0, 0, 0, 0, 240.015, -127.272)
}
point_count = 5

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_w4s4f"]
texture = ExtResource("7_oppj7")
0:0/0 = 0
1:0/0 = 0
2:0/0 = 0
3:0/0 = 0
4:0/0 = 0
5:0/0 = 0
6:0/0 = 0
0:1/0 = 0
1:1/0 = 0
2:1/0 = 0
3:1/0 = 0
4:1/0 = 0
5:1/0 = 0
6:1/0 = 0
0:2/0 = 0
1:2/0 = 0
2:2/0 = 0
3:2/0 = 0
4:2/0 = 0
5:2/0 = 0
6:2/0 = 0
0:3/0 = 0
1:3/0 = 0
2:3/0 = 0
3:3/0 = 0
4:3/0 = 0
5:3/0 = 0
6:3/0 = 0
0:4/0 = 0
1:4/0 = 0
2:4/0 = 0
3:4/0 = 0
4:4/0 = 0
5:4/0 = 0
0:5/0 = 0
1:5/0 = 0
2:5/0 = 0
3:5/0 = 0
4:5/0 = 0
5:5/0 = 0
0:6/0 = 0
1:6/0 = 0
2:6/0 = 0
4:6/0 = 0
5:6/0 = 0

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_2x86m"]
texture = ExtResource("8_pc3r3")
0:0/0 = 0
1:0/0 = 0
2:0/0 = 0
3:0/0 = 0
4:0/0 = 0
5:0/0 = 0
6:0/0 = 0
7:0/0 = 0
8:0/0 = 0
9:0/0 = 0
10:0/0 = 0
11:0/0 = 0
0:1/0 = 0
1:1/0 = 0
2:1/0 = 0
3:1/0 = 0
4:1/0 = 0
5:1/0 = 0
6:1/0 = 0
7:1/0 = 0
8:1/0 = 0
9:1/0 = 0
11:1/0 = 0
0:2/0 = 0
1:2/0 = 0
2:2/0 = 0
3:2/0 = 0
4:2/0 = 0
5:2/0 = 0
6:2/0 = 0
7:2/0 = 0
8:2/0 = 0
9:2/0 = 0
10:2/0 = 0
11:2/0 = 0
0:3/0 = 0
1:3/0 = 0
2:3/0 = 0
3:3/0 = 0
4:3/0 = 0
5:3/0 = 0
6:3/0 = 0
7:3/0 = 0
8:3/0 = 0
9:3/0 = 0
10:3/0 = 0
11:3/0 = 0

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_i0lsi"]
texture = ExtResource("9_6sbp8")
0:0/0 = 0
1:0/0 = 0
2:0/0 = 0
3:0/0 = 0
4:0/0 = 0
5:0/0 = 0
6:0/0 = 0
7:0/0 = 0
8:0/0 = 0
9:0/0 = 0
10:0/0 = 0
11:0/0 = 0
12:0/0 = 0
13:0/0 = 0
14:0/0 = 0
15:0/0 = 0
16:0/0 = 0
0:1/0 = 0
1:1/0 = 0
2:1/0 = 0
3:1/0 = 0
4:1/0 = 0
5:1/0 = 0
6:1/0 = 0
7:1/0 = 0
8:1/0 = 0
9:1/0 = 0
10:1/0 = 0
11:1/0 = 0
12:1/0 = 0
13:1/0 = 0
14:1/0 = 0
15:1/0 = 0
16:1/0 = 0
1:2/0 = 0
2:2/0 = 0
3:2/0 = 0
4:2/0 = 0
5:2/0 = 0
6:2/0 = 0
7:2/0 = 0
8:2/0 = 0
9:2/0 = 0
11:2/0 = 0
15:2/0 = 0
16:2/0 = 0
17:2/0 = 0
18:2/0 = 0
0:3/0 = 0
1:3/0 = 0
2:3/0 = 0
3:3/0 = 0
4:3/0 = 0
5:3/0 = 0
6:3/0 = 0
7:3/0 = 0
8:3/0 = 0
9:3/0 = 0
11:3/0 = 0
12:3/0 = 0
13:3/0 = 0
14:3/0 = 0
15:3/0 = 0
16:3/0 = 0
17:3/0 = 0
18:3/0 = 0
1:4/0 = 0
2:4/0 = 0
3:4/0 = 0
4:4/0 = 0
5:4/0 = 0
6:4/0 = 0
7:4/0 = 0
8:4/0 = 0
9:4/0 = 0
10:4/0 = 0
11:4/0 = 0
12:4/0 = 0
13:4/0 = 0
14:4/0 = 0
0:5/0 = 0
1:5/0 = 0
2:5/0 = 0
3:5/0 = 0
4:5/0 = 0
5:5/0 = 0
6:5/0 = 0
7:5/0 = 0
8:5/0 = 0
9:5/0 = 0
10:5/0 = 0
11:5/0 = 0
12:5/0 = 0
13:5/0 = 0
14:5/0 = 0
15:5/0 = 0
17:5/0 = 0
18:5/0 = 0
21:5/0 = 0
22:5/0 = 0
0:6/0 = 0
1:6/0 = 0
2:6/0 = 0
3:6/0 = 0
4:6/0 = 0
5:6/0 = 0
6:6/0 = 0
7:6/0 = 0
8:6/0 = 0
9:6/0 = 0
10:6/0 = 0
11:6/0 = 0
12:6/0 = 0
13:6/0 = 0
15:6/0 = 0
16:6/0 = 0
17:6/0 = 0
18:6/0 = 0
19:6/0 = 0
20:6/0 = 0
21:6/0 = 0
22:6/0 = 0
23:6/0 = 0
0:7/0 = 0
1:7/0 = 0
2:7/0 = 0
3:7/0 = 0
4:7/0 = 0
5:7/0 = 0
6:7/0 = 0
7:7/0 = 0
8:7/0 = 0
9:7/0 = 0
10:7/0 = 0
11:7/0 = 0
12:7/0 = 0
13:7/0 = 0
15:7/0 = 0
16:7/0 = 0
17:7/0 = 0
18:7/0 = 0
19:7/0 = 0
20:7/0 = 0
21:7/0 = 0
22:7/0 = 0
23:7/0 = 0

[sub_resource type="TileSet" id="TileSet_eak7n"]
sources/0 = SubResource("TileSetAtlasSource_w4s4f")
sources/1 = SubResource("TileSetAtlasSource_2x86m")
sources/2 = SubResource("TileSetAtlasSource_i0lsi")

[node name="Game" type="Node2D"]
script = ExtResource("1_rsu1m")
weapon_inventory = ExtResource("2_hg4xo")
trinket_inventory = SubResource("Resource_0nbt2")

[node name="UI" parent="." instance=ExtResource("5_84mtr")]

[node name="Interactable" parent="." instance=ExtResource("5_4bk6u")]
position = Vector2(48, -17)

[node name="EnemySpawnTimer" type="Timer" parent="."]
unique_name_in_owner = true
autostart = true

[node name="Player" parent="." instance=ExtResource("4_s8reo")]
unique_name_in_owner = true
scale = Vector2(1, 1.04128)

[node name="Path2D" type="Path2D" parent="Player"]
unique_name_in_owner = true
position = Vector2(-17.8553, 12.64)
scale = Vector2(1.60763, 1.72919)
curve = SubResource("Curve2D_6fn01")

[node name="PathFollow2D" type="PathFollow2D" parent="Player/Path2D"]
unique_name_in_owner = true
position = Vector2(-169.244, -125.764)
rotation = -0.00368405
progress = 985.598

[node name="GameTimer" type="Timer" parent="."]
autostart = true

[node name="TileMap" type="TileMap" parent="."]
visible = false
position = Vector2(-158, -12)
tile_set = SubResource("TileSet_eak7n")
format = 2
layer_0/name = "Ground"
layer_0/tile_data = PackedInt32Array(-1, 0, 0, -3, 65536, 0, -2, 0, 1, -65538, 65536, 2, -65537, 0, 0, -65536, 0, 0, 0, 65536, 0, -65535, 131072, 0, -131071, 0, 1, -131072, 0, 0, -196608, 65536, 2, -131073, 131072, 1, -65539, 0, 2, -65540, 0, 0, -4, 0, 0, -5, 0, 0, -65534, 0, 1, 65535, 0, 2, 65534, 0, 2, 65533, 131072, 1, 65532, 0, 0, 131068, 65536, 1, 131069, 131072, 0, 131070, 65536, 1, 131071, 0, 0, 65536, 0, 0, 65537, 0, 0, 65538, 0, 0, 65539, 0, 0, 131067, 65536, 0, 131074, 65536, 0, 131075, 0, 0, 131073, 0, 2, 131072, 131072, 0, 196607, 65536, 0, 196606, 0, 0, 196605, 0, 0, 131076, 0, 0, 65540, 0, 0, 2, 131072, 1, 1, 0, 2, 3, 65536, 0, 4, 0, 0, -65531, 327680, 5, -65532, 0, 0, -65533, 0, 0, -65541, 0, 0, -65542, 0, 0, -65543, 0, 2, -131076, 65536, 0, -131077, 65536, 1, -131078, 131072, 1, -131075, 65536, 0, -6, 0, 0, 65531, 0, 0, 65530, 65536, 1, 131066, 0, 0, 196602, 131072, 0, -7, 0, 0, -131079, 0, 0, 65529, 65536, 0, 131065, 0, 0, 196601, 0, 0, 262138, 0, 1, 262139, 131072, 1, 262140, 0, 2, 262141, 65536, 2, 262142, 65536, 2, 262143, 65536, 0, 196608, 65536, 1, 196609, 65536, 0, 196603, 0, 0, 196604, 0, 0, 262137, 0, 0, 196610, 131072, 1, 196611, 0, 0, 196612, 0, 0, 196613, 327680, 5, 131077, 327680, 5, 65541, 327680, 5, 5, 327680, 5, -131067, 327680, 5, -131068, 0, 2, -131069, 0, 1, -131070, 65536, 0, -196607, 0, 0, -196606, 0, 0, -196605, 0, 0, -196604, 0, 0, -196603, 327680, 5, -131074, 0, 2)
layer_1/name = "Walls"
layer_1/tile_data = PackedInt32Array(-196616, 65537, 0, -196615, 131073, 3, -196614, 131073, 3, -196613, 131073, 3, -196612, 131073, 3, -196611, 131073, 3, -196610, 131073, 3, -196609, 131073, 3, -262144, 131073, 3, -262143, 131073, 3, -262142, 131073, 3, -262141, 131073, 3, -262140, 131073, 3, -262139, 196609, 0, -196603, 1, 2, -131067, 1, 2, -65531, 1, 2, 5, 1, 2, 65541, 1, 2, 131077, 1, 2, 196613, 1, 2)
layer_2/name = "decorations"
layer_2/tile_data = PackedInt32Array()

[connection signal="updated_inventory" from="." to="Player" method="_on_game_updated_inventory"]
[connection signal="upgrade_chosen" from="UI" to="." method="_on_ui_upgrade_chosen"]
[connection signal="interactable_picked_up" from="Interactable" to="Player" method="_on_interactable_interactable_picked_up"]
[connection signal="timeout" from="EnemySpawnTimer" to="." method="_on_enemy_spawn_timer_timeout"]
[connection signal="gained_experience" from="Player" to="." method="_on_player_gained_experience"]
[connection signal="leveled_up" from="Player" to="." method="_on_player_leveled_up"]
[connection signal="playerdied" from="Player" to="." method="_on_player_playerdied"]
[connection signal="timeout" from="GameTimer" to="." method="_on_game_timer_timeout"]
